{% extends "base.html" %} <!-- загрузка повторяемых элементов из родительсткого шаблона -->
{% load static %}  <!-- подгружать статики нужно на каждой странице независимо есть ли эта команда в родительском шаблоне -->
{% block content %} <!-- начало уникального контента для данной страницы-->
<!--? Вставить переменную для смены bg-img -->
<section class="title bg{{variable}}">
  <!--! Вставить переменную для смены bg-img -->
  <a class="title__text wrapper workSans-h4-h3-h2" href="{% url 'forum' %}"
    >Forum</a>
</section>
<main>
  <nav class="sort__nav wrapper">
    <a class="workSans-btns-h5" href="{% url 'post-create' %}">Create a post</a>
    <a class="workSans-btns-h5" href="{% url 'user-posts' request.user.username %}">My posts</a>
    <a class="workSans-btns-h5" href="{% url 'user-comments' %}">My comments</a>
    <a class="workSans-btns-h5" href="{% url 'usertouser:inbox' %}">My messages</a>
    <a class="workSans-btns-h5 violet" href="{% url 'gallery' %}">Gallery</a>
  </nav>
  <section class="pictures">
    <div class="forum-cards--bg">
      <div class="sub-title__border">
        <h2 class="sub-title workSans-h5-h4 wrapper">Gallery</h2>
      </div>
      <div class="pictures-cont wrapper">
      {% for post in gallery %} <!-- начало цикла словарей из модуля views.py  -->
        <div class="picture-card">
          <a href="{{ post.animal_image.url }}">
            <img src="{{ post.animal_image.url }}"
              alt="Post animal">
          </a>
          <a class="picture-card__text workSans-h5" href="{% url 'post-detail' post.id %}"
          title="Go to post"
            >{{ post.title }}</a
          >
        </div>
        {% endfor %}
      </div>
<!--? Конец раздела Меин -->
<div class="pagination workSans-btns-h5">
  <div class="pagination-numbers">
  {% if is_paginated %} <!--начало логики для пагинации-->
    {% if page_obj.has_previous %}
    <P class="pagination-numbers"><a href="?page=1">First page</a></P>
    <P class="pagination-arrow--left"><a href="?page={{ page_obj.previous }}"><</a></P>
    {% endif %}
  
    {% for num in page_obj.paginator.page_range %}
      {% if page_obj.number == num %}
      <P class="pagination-numbers"><a href="?page={{ num }}">{{ num }}</a></P>
      {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
      <P class="pagination-numbers"><a href="?page={{ num }}">{{ num }}</a></P>
      {% endif %}
    {% endfor %}
  
    {% if page_obj.has_next %}
    <P class="pagination-arrow--right"><a href="?page={{ page_obj.next_page_number }}">></a></P>
    <P class="pagination-numbers"><a href="?page={{ page_obj.paginator.num_pages }}">Last page</a></P>
    {% endif %}
  {% endif %}</div></div>
{% endblock content %} <!-- конец уникального контента для данной страницы -->